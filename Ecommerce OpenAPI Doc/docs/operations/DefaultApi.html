<div class="main-content">
  <h2><a name=""></a></h2>
  <p>This is the  API</p>

  <h2><a name="aDD NEW STOCK"></a>aDD NEW STOCK</h2>
  <hr>
  <p></p>
  <p>Put request to add new items for a given store in the stores table.</p>
  <h3 class="section">URL</h3>
  <code>//updatestock/{storeid}/{items}/{cost}/{quantity}</code>
  <h3 class="section">HTTP Method</h3>
  <code>PUT</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">storeid</span>
      <span class="param-type"></span>
      
      <p class="param-description">Reference the store by its name</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">items</span>
      <span class="param-type"></span>
      
      <p class="param-description">New array with items to add</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">cost</span>
      <span class="param-type"></span>
      
      <p class="param-description">New array with the costs of each new item</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">quantity</span>
      <span class="param-type"></span>
      
      <p class="param-description">Array with relative quantities of new items</p>
	  </li>
  </ul>
  <h2><a name="aDD NEW STORE"></a>aDD NEW STORE</h2>
  <hr>
  <p></p>
  <p>Adds a new store to the stores table</p>
  <h3 class="section">URL</h3>
  <code>//stores/{store_items}/{item_stock}/{item_cost}</code>
  <h3 class="section">HTTP Method</h3>
  <code>POST</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">store_items</span>
      <span class="param-type"></span>
      
      <p class="param-description">Array of items sold by store</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">item_stock</span>
      <span class="param-type"></span>
      
      <p class="param-description">array of stock for each relative item</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">item_cost</span>
      <span class="param-type"></span>
      
      <p class="param-description">Array of costs for each relative item</p>
	  </li>
  </ul>
  <h2><a name="aDD TO CART"></a>aDD TO CART</h2>
  <hr>
  <p></p>
  <p>Put request to add item to cart. Items, quantity, are all arrays that get stored in the customer table, which is then used to calculate the total prices in the cart when initiating a transaction.</p>
  <h3 class="section">URL</h3>
  <code>//{email}/addtocart/{items}/{quantity}/{store}</code>
  <h3 class="section">HTTP Method</h3>
  <code>PUT</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">email</span>
      <span class="param-type"></span>
      
      <p class="param-description">Email of user</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">items</span>
      <span class="param-type"></span>
      
      <p class="param-description">Array of items to add to cart</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">quantity</span>
      <span class="param-type"></span>
      
      <p class="param-description">Array of quantities to match the item array to represent their relative quantities</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">store</span>
      <span class="param-type"></span>
      
      <p class="param-description">Array of store ids to reference the store</p>
	  </li>
  </ul>
  <h2><a name="cHANGE SUPPLY"></a>cHANGE SUPPLY</h2>
  <hr>
  <p></p>
  <p>Changes supply of an item in the items table.</p>
  <h3 class="section">URL</h3>
  <code>//updatesupply/{storeid}/{item_name}/{quantity}</code>
  <h3 class="section">HTTP Method</h3>
  <code>PUT</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">storeid</span>
      <span class="param-type"></span>
      
      <p class="param-description">Store id to reference store</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">item_name</span>
      <span class="param-type"></span>
      
      <p class="param-description">Item name to update supply of</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">quantity</span>
      <span class="param-type"></span>
      
      <p class="param-description">Quantity of new item</p>
	  </li>
  </ul>
  <h2><a name="cHECKOUT"></a>cHECKOUT</h2>
  <hr>
  <p></p>
  <p>Using the quantity array and the cart array, in each item in the cart, the price will be found by querying the item stock array of the store for each item id in the store_ids array of the user. If the object index matches in item_stock array of store, the price will be found using the item&#x27;s index, and will be multiplied by user quantity of item and added to the total cart amount. This process occurs for each item in the user&#x27;s cart, and then gets deducted from the user wallet. If the transaction goes through, all arrays related to the cart get emptied and the transaction is stored in the history (orders table).</p>
  <h3 class="section">URL</h3>
  <code>//{email}/checkout</code>
  <h3 class="section">HTTP Method</h3>
  <code>PUT</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">email</span>
      <span class="param-type"></span>
      
      <p class="param-description">Email of user</p>
	  </li>
  </ul>
  <h2><a name="cREATE NEW USER"></a>cREATE NEW USER</h2>
  <hr>
  <p></p>
  <p>Creates new entry in the customer table</p>
  <h3 class="section">URL</h3>
  <code>//register</code>
  <h3 class="section">HTTP Method</h3>
  <code>POST</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
  </ul>
  <h2><a name="fETCH ITEM BASED ON NAME"></a>fETCH ITEM BASED ON NAME</h2>
  <hr>
  <p></p>
  <p>Get request to query the items table based on name</p>
  <h3 class="section">URL</h3>
  <code>//search/item/name/{name}</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">name</span>
      <span class="param-type"></span>
      
      <p class="param-description">Name of item</p>
	  </li>
  </ul>
  <h2><a name="gET ITEM BY ID"></a>gET ITEM BY ID</h2>
  <hr>
  <p></p>
  <p>Queries the items table using a Get request</p>
  <h3 class="section">URL</h3>
  <code>//search/item/{id}</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">id</span>
      <span class="param-type"></span>
      
      <p class="param-description">ID of item</p>
	  </li>
  </ul>
  <h2><a name="gET STORES"></a>gET STORES</h2>
  <hr>
  <p></p>
  <p>get request to query the stores table</p>
  <h3 class="section">URL</h3>
  <code>//stores</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
  </ul>
  <h2><a name="gET TRANSHISTORY"></a>gET TRANSHISTORY</h2>
  <hr>
  <p></p>
  <p>Get request to query the orders table</p>
  <h3 class="section">URL</h3>
  <code>//transactionhistory/{email}</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">email</span>
      <span class="param-type"></span>
      
      <p class="param-description">Email of user to fetch their transaction history</p>
	  </li>
  </ul>
  <h2><a name="lANDING"></a>lANDING</h2>
  <hr>
  <p></p>
  <p>loads the index.ejs file</p>
  <h3 class="section">URL</h3>
  <code>//</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
  </ul>
  <h2><a name="lOGIN LANDING"></a>lOGIN LANDING</h2>
  <hr>
  <p></p>
  <p>Brings up the login.ejs page for user login</p>
  <h3 class="section">URL</h3>
  <code>//login</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
  </ul>
  <h2><a name="pASSPORT AUTH"></a>pASSPORT AUTH</h2>
  <hr>
  <p></p>
  <p>Used for Passport.js auth</p>
  <h3 class="section">URL</h3>
  <code>//login</code>
  <h3 class="section">HTTP Method</h3>
  <code>POST</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
  </ul>
  <h2><a name="pASSPORT LOGOUT"></a>pASSPORT LOGOUT</h2>
  <hr>
  <p></p>
  <p>Passport.js auth</p>
  <h3 class="section">URL</h3>
  <code>//logout</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
  </ul>
  <h2><a name="qUERY CUSTOMER"></a>qUERY CUSTOMER</h2>
  <hr>
  <p></p>
  <p>Queries the customer table</p>
  <h3 class="section">URL</h3>
  <code>//getprofile/{email}</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">email</span>
      <span class="param-type"></span>
      
      <p class="param-description">Email of user for profile</p>
	  </li>
  </ul>
  <h2><a name="qUERY CUSTOMER CART"></a>qUERY CUSTOMER CART</h2>
  <hr>
  <p></p>
  <p>Queries the customer table and finds the customer&#x27;s cart based on their email</p>
  <h3 class="section">URL</h3>
  <code>//cart/{email}</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">email</span>
      <span class="param-type"></span>
      
      <p class="param-description">email of user to fetch their cart</p>
	  </li>
  </ul>
  <h2><a name="qUERY STORE BASED ON ID"></a>qUERY STORE BASED ON ID</h2>
  <hr>
  <p></p>
  <p>Queries store details in stores table based on id</p>
  <h3 class="section">URL</h3>
  <code>//search/store/id/{id}</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">id</span>
      <span class="param-type"></span>
      
      <p class="param-description">id of store</p>
	  </li>
  </ul>
  <h2><a name="rEGISTER LANDING"></a>rEGISTER LANDING</h2>
  <hr>
  <p></p>
  <p>loads the register page </p>
  <h3 class="section">URL</h3>
  <code>//register</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
  </ul>
  <h2><a name="rEMOVE ITEM"></a>rEMOVE ITEM</h2>
  <hr>
  <p></p>
  <p>Queries the cart and quantity array. Finds the index of item in cart, and pops the element at that index in both the cart and quantity array. The updated arrays will then be updated using the put request.</p>
  <h3 class="section">URL</h3>
  <code>//{email}/removefromcart/{item}/{quantity}/{store}</code>
  <h3 class="section">HTTP Method</h3>
  <code>PUT</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">email</span>
      <span class="param-type"></span>
      
      <p class="param-description">Email of user</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">item</span>
      <span class="param-type"></span>
      
      <p class="param-description">Name of item</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">quantity</span>
      <span class="param-type"></span>
      
      <p class="param-description">relative quantity of item to remove</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">store</span>
      <span class="param-type"></span>
      
      <p class="param-description">Store id to reference store</p>
	  </li>
  </ul>
  <h2><a name="successGet"></a>successGet</h2>
  <hr>
  <p></p>
  <p>Passport.js auth success page</p>
  <h3 class="section">URL</h3>
  <code>//success</code>
  <h3 class="section">HTTP Method</h3>
  <code>GET</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
  </ul>
  <h2><a name="uPDATE EMAIL"></a>uPDATE EMAIL</h2>
  <hr>
  <p></p>
  <p>Put request which updates the old user email with new one in customer table</p>
  <h3 class="section">URL</h3>
  <code>//updateemail/{email}/{newemail}</code>
  <h3 class="section">HTTP Method</h3>
  <code>PUT</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">email</span>
      <span class="param-type"></span>
      
      <p class="param-description">old email of user</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">newemail</span>
      <span class="param-type"></span>
      
      <p class="param-description">New email of user</p>
	  </li>
  </ul>
  <h2><a name="uPDATE PASSWORD"></a>uPDATE PASSWORD</h2>
  <hr>
  <p></p>
  <p>put request to update user password with new password in customer table</p>
  <h3 class="section">URL</h3>
  <code>//updatepassword/{email}/{oldpassword}/{newpassword}</code>
  <h3 class="section">HTTP Method</h3>
  <code>PUT</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">email</span>
      <span class="param-type"></span>
      
      <p class="param-description">email of user</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">oldpassword</span>
      <span class="param-type"></span>
      
      <p class="param-description">old password of user</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">newpassword</span>
      <span class="param-type"></span>
      
      <p class="param-description">New password of user</p>
	  </li>
  </ul>
  <h2><a name="uPDATE STOCK"></a>uPDATE STOCK</h2>
  <hr>
  <p></p>
  <p>Put request to change the stock of an item in a store. The resulting change will also change the amount supplied of the item in the items table.</p>
  <h3 class="section">URL</h3>
  <code>//updatestock/{storeid}/{item_name}/{quantity}</code>
  <h3 class="section">HTTP Method</h3>
  <code>PUT</code>
  <h3 class="section">Response Type</h3>
  <div class="model" data-model=""><a href=""></a></div>
  <h3 class="section">Parameters</h3>
  <ul>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">storeid</span>
      <span class="param-type"></span>
      
      <p class="param-description">Store id to reference store</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">item_name</span>
      <span class="param-type"></span>
      
      <p class="param-description">Name of item</p>
	  </li>
	  <li class="parameter">
      
      
      <span class="param-in">Path: </span>
      
      
      <span class="param-name">quantity</span>
      <span class="param-type"></span>
      
      <p class="param-description">New stock to add</p>
	  </li>
  </ul>
</div>
